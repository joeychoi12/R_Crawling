title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
books <- data.frame(title = title, writer = writer, price = price)
c_books <- rbind(books,c_books)
View(books)
computer_books <- data.frame()
base_url <- "http://www.hanbit.co.kr/academy/books/category_list.html?"
page <- 'page='
category <-  "&cate_cd=004007&srt=p_pub_date"
for (i in 1:6) {
url <- paste0(base_url,page,i,category)
html <- read_html(url)
html
book_list <- html_node(html,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
html %>%
html_node('.sub_book_list_area') %>%
html_nodes('li') -> lis
lis
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
books <- data.frame(title = title, writer = writer, price = price)
c_books <- rbind(books,c_books)
}
View(c_books)
for (i in 1:6) {
url <- paste0(base_url,page,i,category)
html <- read_html(url)
html
book_list <- html_node(html,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
html %>%
html_node('.sub_book_list_area') %>%
html_nodes('li') -> lis
lis
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
books <- data.frame(title = title, writer = writer, price = price)
computer_books <- rbind.data.frame(computer_books,books)
}
View(computer_books)
library(openxlsx)
urltest <- http://www.hanbit.co.kr/academy/books/category_list.html?page=5&cate_cd=004008&srt=p_pub_date
urltest <- "http://www.hanbit.co.kr/academy/books/category_list.html?page=5&cate_cd=004008&srt=p_pub_date"
html_test <- read_html(urltest)
lis
lis
book_list
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
price
lis
html_test %>%
html_node('.sub_book_list_area') %>%
html_nodes('li') -> lis
lis
book_list <- html_node(html_test,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
html_test %>%
html_node('.sub_book_list_area') %>%
html_nodes('li') -> lis
lis
class(lis)
base_url <- "http://www.hanbit.co.kr/academy/books/category_list.html?"
page <- 'page='
category <-  "&cate_cd=004008&srt=p_pub_date"
for (i in 1:10) {
url <- paste0(base_url,page,i,category)
html <- read_html(url)
html
book_list <- html_node(html,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
if(lis == (0)) {
break;
}else {
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
books <- data.frame(title = title, writer = writer, price = price)
computer_books <- rbind.data.frame(computer_books,books)
}
}
list
lis
lis <- html_nodes(book_list, "li")
lis
urltest <- "http://www.hanbit.co.kr/academy/books/category_list.html?page=5&cate_cd=004008&srt=p_pub_date"
html_test <- read_html(urltest)
book_list <- html_node(html_test,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
lis
if(lis == xml_nodeset(0)) {
break;
}else {
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
books <- data.frame(title = title, writer = writer, price = price)
computer_books <- rbind.data.frame(computer_books,books)
}
}
lis
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
price
for (i in 1:10) {
url <- paste0(base_url,page,i,category)
html <- read_html(url)
html
book_list <- html_node(html,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
if(price == NULL) {
break;
}else {
books <- data.frame(title = title, writer = writer, price = price)
computer_books <- rbind.data.frame(computer_books,books)
}
}
if(price == NULL) {
break
}else {
books <- data.frame(title = title, writer = writer, price = price)
computer_books <- rbind.data.frame(computer_books,books)
}
for (i in 1:10) {
url <- paste0(base_url,page,i,category)
html <- read_html(url)
html
book_list <- html_node(html,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
if(is.null(price)) {
break
}else {
books <- data.frame(title = title, writer = writer, price = price)
computer_books <- rbind.data.frame(computer_books,books)
}
}
View(computer_books)
computer_books <- data.frame()
base_url <- "http://www.hanbit.co.kr/academy/books/category_list.html?"
page <- 'page='
category <-  "&cate_cd=004007&srt=p_pub_date"
for (i in 1:6) {
url <- paste0(base_url,page,i,category)
html <- read_html(url)
html
book_list <- html_node(html,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
html %>%
html_node('.sub_book_list_area') %>%
html_nodes('li') -> lis
lis
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
books <- data.frame(title = title, writer = writer, price = price)
computer_books <- rbind.data.frame(computer_books,books)
}
View(computer_books)
for (i in 1:10) {
url <- paste0(base_url,page,i,category)
html <- read_html(url)
html
book_list <- html_node(html,'.sub_book_list_area')
book_list
lis <- html_nodes(book_list, "li")
price <- c()
title <- c()
writer <- c()
for (li in lis) {
pr <- html_node(li, '.price') %>% html_text()
pr <- gsub('\\\\',"",pr)
price <- c(price,pr)
title <- c(title, html_node(li, '.book_tit') %>% html_text())
writer <- c(writer,html_node(li, '.book_writer') %>% html_text())
#cat(title, writer, price, '\n')
}
if(is.null(price)) {
break
}else {
books <- data.frame(title = title, writer = writer, price = price)
IT_books <- rbind.data.frame(IT_books,books)
}
}
programming_books <- data.frame()
#finding the link and list of categories
text <- read_html(base_url)
category_list <- html_nodes(text, ".node_body")
category_list
category_list <- html_nodes(text, ".category_books")
category_list
text
View(text)
html <- read_html(url)
html
category_list <- html_nodes(text, ".lnb_area") %>% html_nodes('li')
category_list
View(category_list)
lis
category_list
link <- c()
category_name <- c()
category_list1 <- for(li in category_list) {
link <- c(link,html_node(category_list,'category_books') %>% html_text())
#category_name <-
}
category_list1
category_list1 <- for(li in category_list) {
link <- c(link,html_node(category_list,'category_books') %>% html_text())
#category_name <-
}
category_list1
html_node(category_list,'.category_books')
html_node(category_list,'category_books')
html_node(category_list,'category_books')
category
category_list
html_node(category_list,'category_books')
html_node(category_list,'li')
html_nodes(category_list,'li')
html_category %>% html_nodes('li') %>%
link <- gsub("<li><a href=","",li)
html_category <- category_list %>% html_nodes('li') %>%
link <- gsub("<li><a href=","",li)
html_category <- category_list %>%
html_nodes('li') %>%
link <- gsub("<li><a href=","",li)
html_category <- category_list %>%
html_nodes('li') %>%
link <- gsub("<li><a href=","",li)
html_category <- category_list %>%
html_nodes('li') #%>%
html_category
link <- gsub("<li><a href=","",li)
li
link
link <- gsub(">+")
link <- gsub(">+","",li)
link
link <- gsub(">","",li)
link
link <- gsub("<li><a href=","",li)
link
link <- gsub(">전체도서목록","",li)
link
link <- gsub("http://www.hanbit.co.kr/academy/books/category_list.html?","",li)
link
link <- gsub("<li><a href=","",html_category)
link
link <- gsub("http://www.hanbit.co.kr/academy/books/category_list.html?","",li)
link
link <- gsub("http://www.hanbit.co.kr/academy/books/category_list.html?","",html_category)
link
link <- gsub("<li><a href=\"?http://www.hanbit.co.kr/academy/books/category_list.html?","",html_category)
link
link <- gsub("</a></li>",""link)
link
link <- gsub("</a></li>","",link)
link
link <-substr(link,1,13)
link
link <- gsub("<li><a href=\"?http://www.hanbit.co.kr/academy/books/category_list.html?","",html_category)
link <- gsub("</a></li>","",link)
link <-substr(link,1,16)
link
category_list1 <-substr(link,1,16)
clas(category_list1)
class(category_list1)
as.data.frame(category_list1)
catagory_list1 <- gsub("?","&",category_list1)
category_list1
category_list1 <- gsub("?","&",category_list1)
category_list1
catagory_list1 <- gsub("?","&",category_list1)
base_url <- 'https://kr.investing.com/news/economy-news/'
url <- paste0(base_url, 1)
html <- read_html(url)
html1 <- html_nodes(html,".wrapper");html1
title <- trim(html_nodes(html1, ".textDiv") %>% html_text());title
article <- c()
df.article <- data.frame()
for (i in 1:10) {
url <- paste0(base_url, i)
html <- read_html(url)
html <- read_html(url)
html1 <- html_nodes(html,".wrapper");html1
title <- trim(html_nodes(html1, ".textDiv") %>% html_text())
article <- c(article,title)
}
#View(article)
#Wordcloud
write(article, "data.txt")
data <- readLines('data.txt')
data1 <- sapply(data, extractNoun, USE.NAMES = F)
data3 <- unlist(data1)
data3 <- gsub("\\d+","",data3) ## 숫자 없애기
data3 <- gsub("서울시","",data3)
data3 <- gsub("서울","",data3)
data3 <- gsub("곡성","",data3)
data3 <- gsub("세종","",data3)
data3 <- gsub(" ","",data3)
data3 <- gsub("-","",data3)
data3 <- gsub("부터","",data3)
data3 <- gsub("전","",data3)
data3 <- gsub("일","",data3)
data3 <- gsub("시간","",data3)
data3 <- gsub("월","",data3)
data3 <- gsub("뉴스핌<U+A><U+A>","",data3)
data3 <- gsub("기","",data3)
data3 <- gsub("원","",data3)
data3 <- gsub("한","",data3)
data3 <- gsub(".","",data3)
write(unlist(data3),"economy1.txt")
data4 <- read.table("economy1.txt")
nrow(data4)
wordcount <- table(data4)
wordcloud <- head(sort(wordcount,decreasing = T),800)
head(wordcloud)
base_url <- 'https://kr.investing.com/news/economy-news/'
url <- paste0(base_url, 1)
html <- read_html(url)
html1 <- html_nodes(html,".wrapper");html1
title <- trim(html_nodes(html1, ".textDiv") %>% html_text());title
article <- c()
df.article <- data.frame()
for (i in 1:10) {
url <- paste0(base_url, i)
html <- read_html(url)
html <- read_html(url)
html1 <- html_nodes(html,".wrapper");html1
title <- trim(html_nodes(html1, ".textDiv") %>% html_text())
article <- c(article,title)
}
library(rvest)
library(dplyr)
library(stringr)
library(xlsx)
library(openxlsx)
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
base_url <- 'https://kr.investing.com/news/economy-news/'
url <- paste0(base_url, 1)
html <- read_html(url)
html1 <- html_nodes(html,".wrapper");html1
title <- trim(html_nodes(html1, ".textDiv") %>% html_text());title
article <- c()
df.article <- data.frame()
for (i in 1:10) {
url <- paste0(base_url, i)
html <- read_html(url)
html <- read_html(url)
html1 <- html_nodes(html,".wrapper");html1
title <- trim(html_nodes(html1, ".textDiv") %>% html_text())
article <- c(article,title)
}
#Wordcloud
write(article, "data.txt")
data <- readLines('data.txt')
data1 <- sapply(data, extractNoun, USE.NAMES = F)
data3 <- unlist(data1)
data3 <- gsub("\\d+","",data3) ## 숫자 없애기
data3 <- gsub("서울시","",data3)
data3 <- gsub("서울","",data3)
data3 <- gsub("곡성","",data3)
data3 <- gsub("세종","",data3)
data3 <- gsub(" ","",data3)
data3 <- gsub("-","",data3)
data3 <- gsub("부터","",data3)
data3 <- gsub("전","",data3)
data3 <- gsub("일","",data3)
data3 <- gsub("시간","",data3)
data3 <- gsub("월","",data3)
data3 <- gsub("뉴스핌<U+A><U+A>","",data3)
data3 <- gsub("기","",data3)
data3 <- gsub("원","",data3)
data3 <- gsub("한","",data3)
data3 <- gsub(".","",data3)
write(unlist(data3),"economy1.txt")
data4 <- read.table("economy1.txt")
nrow(data4)
wordcount <- table(data4)
wordcloud <- head(sort(wordcount,decreasing = T),800)
head(wordcloud)
#Wordcloud
library(KoNLP)
write(article, "data.txt")
data <- readLines('data.txt')
data1 <- sapply(data, extractNoun, USE.NAMES = F)
data3 <- unlist(data1)
data3 <- gsub("\\d+","",data3) ## 숫자 없애기
data3 <- gsub("서울시","",data3)
data3 <- gsub("서울","",data3)
data3 <- gsub("곡성","",data3)
data3 <- gsub("세종","",data3)
data3 <- gsub(" ","",data3)
data3 <- gsub("-","",data3)
data3 <- gsub("부터","",data3)
data3 <- gsub("전","",data3)
data3 <- gsub("일","",data3)
data3 <- gsub("시간","",data3)
data3 <- gsub("월","",data3)
data3 <- gsub("뉴스핌<U+A><U+A>","",data3)
data3 <- gsub("기","",data3)
data3 <- gsub("원","",data3)
data3 <- gsub("한","",data3)
data3 <- gsub(".","",data3)
write(unlist(data3),"economy1.txt")
data4 <- read.table("economy1.txt")
nrow(data4)
wordcount <- table(data4)
wordcloud <- head(sort(wordcount,decreasing = T),800)
head(wordcloud)
write(unlist(data3),"economy1.txt")
write(unlist(data3),"economy1.txt")
write(unlist(data3),"economy1.txt")
# Text Crawling from Investing.com News article
# 한빛아카데미 도서 크롤링
setwd("d:/workspace/R_Crawling/")
write(unlist(data3),"economy1.txt")
write(data3,"economy1.txt")
data3
data1 <- sapply(data, extractNoun, USE.NAMES = F)
data3 <- unlist(data1)
data3
