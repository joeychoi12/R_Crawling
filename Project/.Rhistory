for (i in 1:2) {
#2929
for (i in 1:2) {
if (i %% 300 == 0) print(i)
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li,".star_score") %>% html_text('em') %>% trim())
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
}
#2929
for (i in 1:2) {
if (i %% 300 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li,".star_score") %>% html_text('em') %>% trim())
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
}
for (li in lis) {
rating <- c(rating, html_node(li,".star_score") %>% html_text('em') %>% trim())
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
for (li in lis) {
rating <- c(rating, html_node(li,".star_score") %>% html_text('em') %>% trim())
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
rating
review
date
writer
time
#2929
for (i in 1:2929) {
#2929
for (i in 1:2929) {
#2929
for (i in 1:2929) {
if (i %% 300 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
#2929
for (i in 1:2929) {
if (i %% 300 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
rating <- c()
review <- c()
writer <-c()
time <- c()
html_test <- read_html(paste0(url,1))
html_test <- read_html(paste0(url,1))
html_node(html_test,".review_info") %>% html_text()
html_node(html_test,".review_info")
html_node(html_test,".raking_grade")
html_test
html_node(html_test,"list_review")
html_node(html_test,".list_review")
html_node(html_test,".movie_detail")
html_nodes(html_test,".movie_detail")
html_nodes(html_test,".movie")
html_nodes(html_test,"detail_movie detail_rating")
html_nodes(html_test,".detail_movie detail_rating")
html_nodes(html_test,".detail_movie")
_movie
html_nodes(html_test,".detail")
html_nodes(html_test,"dkContent")
html_nodes(html_test,".dkContent")
html_nodes(html_test,".cont_movie")
html_nodes(html_test,".ranking_info")
html_nodes(html_test,".ranking_grade")
html_test <- read_html(paste0(url,1))
View(html_test)
html_nodes(html_test,"div.ranking_grade")
html_nodes(html_test,"div.detail")
html_nodes(html_test,"div.movie.detail_rating")
html_nodes(html_test,"#mArticle")
html_nodes(html_test,".mArticle")
html_nodes(html_test,"mArticle")
html_nodes(html_test,"#")
html_nodes(html_test,".")
html_nodes(html_test,". all")
html_nodes(html_test,"movie_detail")
html_nodes(html_test,"div.movie_detail")
html_nodes(html_test,"body")
html_nodes(html_test,"body") %>% html_nodes("div.detail_movie")
html_nodes(html_test,"body") %>% html_nodes(".detail_movie")
html_nodes(html_test,"body") %>% html_nodes(".ranking")
html_nodes(html_test,"body") %>% html_nodes(".ranking_grade")
html_nodes(html_test,"body") %>% html_nodes(".desc_review")
html_nodes(html_test,"body") %>% html_nodes(".desc_review") %>% html_text()
html_nodes(html_test,"body") %>% html_nodes(".desc_review")
install.packages("R6")
install.packages("R6")
library(R6)
url <- 'http://movie.daum.net/moviedb/grade?movieId=112942&type=netizen&page=1'
htxt <- read_html(url)
content <- html_nodes(htxt,'.desc_review')
content
review <- html_text(content)
review
content <- html_nodes(html_test,".desc_review")
content
url <- "https://movie.daum.net/moviedb/grade?movieId=111292&type=netizen&page=1"
url <- "https://movie.daum.net/moviedb/grade?movieId=111292&type=netizen&page=1"
htxt <- read_html(url)
content <- html_nodes(htxt,".desc_review")
content
html_test <- read_html(paste0(url,1))
html_nodes(html_test,".desc_review")
url <- "https://movie.daum.net/moviedb/grade?movieId=111292&type=netizen&page="
html_test <- read_html(paste0(url,1))
html_nodes(html_test,".desc_review")
url <- "https://movie.daum.net/moviedb/grade?movieId=111292&type=netizen&page="
html_test <- read_html(paste0(url,2))
html_nodes(html_test,".desc_review")
html_test <- read_html(paste0(url,3))
html_nodes(html_test,".desc_review")
View(html_test)
content <- html_nodes(htxt,".review_info")
content
html_test <- read_html(paste0(url,3))
html_nodes(html_test,".review_info")
url <- "https://movie.daum.net/moviedb/grade?movieId=111292&type=netizen&page="
html_test <- read_html(paste0(url,1))
html_nodes(html_test,".review_info")
View(html_test)
url
rating <- c()
review <- c()
writer <-c()
time <- c()
#2929
for (i in 1:2929) {
if (i %% 300 == 0) {print(i)}
html <- read_html(paste0(url,1))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
review <- data.frame(rating = rating, review = review, writer = writer, time = time)
review <- data.frame(rating = rating, review = review, writer = writer, time = time)
View(review)
str(review)
str(review)
time
#2929
for (i in 1:2929) {
if (i %% 300 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
review <- data.frame(rating = rating, review = review, writer = writer, time = time)
rating
#2929
for (i in 1:2) {
if (i %% 300 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
review <- data.frame(rating = rating, review = review, writer = writer, time = time)
View(review)
rating
review
writer
#2929
for (i in 1:2) {
if (i %% 300 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li,".star_score") %>% html_text('em') %>% trim())
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
time <- c(time, str_sub(tmp, 1, idx[1]-1))
}
}
}
time
rating <- c()
review <- c()
date <- c()
for (i in 1:2) {
html <- read_html(paste0(url,ifr,page,i))
rating <- c()
review <- c()
date <- c()
writer <- c()
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
date <- c(date, str_sub(tmp, 1, idx[1]-1))
#print(time)
}
}
rating
review
date
for (i in 1:2) {
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
date <- c(date, str_sub(tmp, 1, idx[1]-1))
#print(time)
}
}
rating
review
date
url <- paste0(url_base,ifr,page, encoding = "euc-kr")
url_base <- "https://movie.naver.com/movie/"
ifr <- "bi/mi/pointWriteFormList.nhn?code=161967&type=after&isActualPointWriteExecute=false&isMileageSubscriptionAlready=false&isMileageSubscriptionReject=false"
url <- paste0(url_base,ifr,page, encoding = "euc-kr")
for (i in 1:2) {
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
date <- c(date, str_sub(tmp, 1, idx[1]-1))
#print(time)
}
}
rating
review
date
if (i %% 500 == 0) print(i)
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
date <- c(date, str_sub(tmp, 1, idx[1]-1))
#print(time)
}
if (i %% 500 == 0) print(i)
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
date <- c(date, str_sub(tmp, 1, idx[1]-1))
#print(time)
}
rating
if (i %% 500 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
date <- c(date, str_sub(tmp, 1, idx[1]-1))
#print(time)
}
rating
review
if (i %% 500 == 0) {print(i)}
html <- read_html(paste0(url,ifr,page,i))
html %>%
html_node(".score_result") %>%
html_nodes("li") -> lis
for (li in lis) {
rating <- c(rating, html_node(li, '.star_score') %>% html_text('em') %>% trim())
li %>%
html_node('.score_reple') %>%
html_text('p') %>%
trim() -> tmp
idx <- str_locate(tmp, "\r")
review <- c(review, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
writer <- c(writer, str_sub(tmp, 1, idx[1]-1))
tmp <- trim(str_sub(tmp, idx[1], -1))
idx <- str_locate(tmp, "\r")
date <- c(date, str_sub(tmp, 1, idx[1]-1))
#print(time)
}
