guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
library(RJSONIO)
install.packages("RJSONIO")
install.packages("Rtools")
library(RJSONIO)
base_url <- "http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
callback_url
callback_url
responsData <- fromJSON(callback_url)
ServiceKey <- 'ServiceKey_from_PublicDataPortal'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
install.packages("rjson")
library(rjson)
base_url <- "http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
responsData <- fromJSON(callback_url)
callback_url
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
responsData <- fromJSON(file = callback_url)
responsData <- fromJSON(file = callback_url)
detach("package:rjson", unload = TRUE)
detach("package:RJSONIO", unload = TRUE)
=
responsData <- fromJSON(file = callback_url)
responsData <- fromJSON(file = callback_url)
responsData <- fromJSON(callback_url)
t
t
base_url <- "http://apis.data.go.kr/6300000/tourDataService"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
callback_url <- paste0(base_url,'?ServiceKey=', ServiceKey)
callback_url
responsData <- fromJSON(callback_url)
callback_url <- paste0(base_url,'?ServiceKey=', ServiceKe,'&type=json')
callback_url <- paste0(base_url,'?ServiceKey=', ServiceKe,'&type=json')
callback_url <- paste0(base_url,'?ServiceKey=', ServiceKey,'&type=json')
callback_url
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/6300000/tourDataService"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
base_url <- "http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
searchYearCd <- 2017
responsData
responsData <- fromJSON(callback_url)
responsData
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/B552061/frequentzoneLg"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
# 공공데이터포털 API 이용하여 데이터 가져오기
# 지자체별 사고다발지역정보 조회 서비스
library(jsonlite)
responsData <- fromJSON(callback_url)
URLencode()
library(rjson)
responsData <- fromJSON(callback_url)
# 공공데이터포털 API 이용하여 데이터 가져오기
# 지자체별 사고다발지역정보 조회 서비스
library(jsonlite)
detach("package:jsonlite", unload = TRUE)
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
responsData <- fromJSON(callback_url)
library(jsonlite)
detach(rjson)
detach("package:rjson", unload = TRUE)
responsData <- fromJSON(callback_url)
callback_url
base_url <- "http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
str(responsData)
cat("결과 코드 =", responsData$resultCode)
cat("결과 메시지 =", responsData$resultMsg)
cat("총 건수 =", responsData$totalCount)
str(responsData$items)
df_accidents <- responsData$items$item
str(df_accidents)
setwd('D:/Workspace/R_Project/03_JSON')
setwd('D:/Workspace/R_Crawling/JSON/)
write.csv(df_accidents[-13], '사고다발지역.csv')
geoms <- df_accidents$geom_json
str(geoms)
# g1<-fromJSON(geoms[1])
# str(g1)
# str(g1$coordinates[1,,])
# write.csv(g1$coordinates[1,,], "poly.csv")
library(openxlsx)
wb <- createWorkbook()
for (i in 1:length(geoms)) {
geom <- fromJSON(geoms[i])
str(geom)
# write.csv(geom$coordinates[1,,], paste0("olygon", i, ".csv"))
df_geom <- as.data.frame(geom$coordinates[1,,])
names(df_geom) <- c("경도", "위도")
addWorksheet(wb, paste0("polygon", i))
writeDataTable(wb, paste0("polygon", i), df_geom)
}
saveWorkbook(wb, file="polygon.xlsx")
setwd('D:/Workspace/R_Crawling/JSON/')
write.csv(df_accidents[-13], '사고다발지역.csv')
geoms <- df_accidents$geom_json
str(geoms)
library(openxlsx)
wb <- createWorkbook()
for (i in 1:length(geoms)) {
geom <- fromJSON(geoms[i])
str(geom)
# write.csv(geom$coordinates[1,,], paste0("olygon", i, ".csv"))
df_geom <- as.data.frame(geom$coordinates[1,,])
names(df_geom) <- c("경도", "위도")
addWorksheet(wb, paste0("polygon", i))
writeDataTable(wb, paste0("polygon", i), df_geom)
}
saveWorkbook(wb, file="polygon.xlsx")
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&searchKeyword=',searchKeyword, '&type=json')
dgu <- 'C0601'    # 대전광역시
searchCondition <- 1
dgu <- 'C0601'    # 대전광역시
dcode <- 'C0301'  # 서구
searchKeyword <- ''
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
searchKeyword <- '전복복'
searchKeyword <- '전복'
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService"
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchCondition <- 1
dgu <- 'C0601'    # 대전광역시
dcode <- 'C0301'  # 서구
searchKeyword <- '전복'
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?serviceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchCondition <- 1
dgu <- 'C0601'    # 대전광역시
dcode <- 'C0301'  # 서구
searchKeyword <- '전복'
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchCondition <- 1
dgu <- 'C0601'    # 대전광역시
dcode <- 'C0301'  # 서구
searchKeyword <- '전복'
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataServicee"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchCondition <- 1
dgu <- 'C0601'    # 대전광역시
dcode <- 'C0301'  # 서구
searchKeyword <- '전복'
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchCondition <- 1
dgu <- 'C0601'    # 대전광역시
dcode <- 'C0301'  # 서구
searchKeyword <- '전복'
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData <- fromJSON(url)
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData <- fromJSON(callback_url)
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchCondition <- 1
dgu <- 'C0601'    # 대전광역시
dcode <- 'C0301'  # 서구
searchKeyword <- '전복'
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword, '&type=json')
callback_url
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData <- fromJSON(callback_url)
responsData
responsData1 <- fromJSON(callback_url)
responsData1
callback_url
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData <- fromJSON(url)
str(responsData)
responsData1 <- fromJSON(callback_url)
Encoding(responsData1)
Encoding(callback_url)
Encoding(url)
Encoding(url) <- "UTF-8"
responsData1 <- fromJSON(callback_url)
Encoding(callback_url) <- "UTP-8"
responsData1 <- fromJSON(callback_url)
Encoding(callback_url)
Encoding(callback_url) <- "UTF-8"
responsData1 <- fromJSON(callback_url)
searchKeyword <- ''
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=',searchKeyword)
callback_url
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
'&searchKeyword=')
callback_url
responsData1 <- fromJSON(callback_url)
responsData1
base_url <- "http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson"
str(responsData$items)
str(responsData1$items)
cat("결과 코드 =", responsData$resultCode)
cat("결과 메시지 =", responsData$resultMsg)
cat("총 건수 =", responsData$totalCount)
base_url <- "http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg"
ServiceKey <- 'Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D'
searchYearCd <- 2017
siDo <- 30    # 대전광역시
guGun <- 170  # 서구
numOfRows <- 10
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&searchYearCd=', searchYearCd,
'&siDo=', siDo, '&guGun=', guGun, '&numOfRows=', numOfRows,
'&pageNo=', pageNo, '&type=json')
callback_url
responsData <- fromJSON(callback_url)
str(responsData)
cat("결과 코드 =", responsData$resultCode)
cat("결과 메시지 =", responsData$resultMsg)
cat("총 건수 =", responsData$totalCount)
cat("결과 코드 =", responsData1$resultCode)
cat("결과 코드 =", responsData$resultCode)
str(responsData1)
responsData1$item
responsData1$comMsgHeader
responsData1$msgHeader
responsData1$msgBody
names(responsData1$msgBody)
df_djFood <- responsData1$msgBody
str(df_djFood)
geoms <- df_accidents$geom_json
str(geoms)
write.csv(df_djFood, '대전광역시 문화관광 음식점.csv')
numOfRows <- 2000
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
)
pageNo <- 1
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
)
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition)
callback_url
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData1 <- fromJSON(callback_url)
responsData1 <- fromJSON(callback_url)
responsData1 <- fromJSON(callback_url)
responsData1 <- fromJSON(callback_url)
responsData1 <- fromJSON(callback_url)
responsData1 <- fromJSON(callback_url)
numOfRows <- 100
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition)
responsData1 <- fromJSON(callback_url)
responsData <- fromJSON(url)
numOfRows <- 10
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition)
callback_url
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData1 <- fromJSON(callback_url)
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData1 <- fromJSON(callback_url)
responsData1 <- fromJSON(callback_url)
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition,
)
# http://apis.data.go.kr/B552061/frequentzoneLg/getRestFrequentzoneLg?ServiceKey=서비스키&searchYearCd=2017&siDo=26&guGun=110&numOfRows=10&pageNo=1
callback_url <- paste0(base_url, '?ServiceKey=', ServiceKey, '&pageNo=', pageNo, '&numOfRows=', numOfRows,'&dgu=', dgu,
'&dcode=', dcode, '&searchCondition=', searchCondition)
callback_url
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=10&pageNo=1'
responsData1 <- fromJSON(callback_url)
responsData2 <- fromJSON(callback_url)
responsData2 <- fromJSON(callback_url)
responsData2 <- fromJSON(callback_url)
responsData2 <- fromJSON(callback_url)
responsData2 <- fromJSON(callback_url)
responsData2 <- fromJSON(callback_url)
responsData <- fromJSON(url)
str(responsData)
cat("결과 코드 =", responsData$resultCode)
cat("결과 메시지 =", responsData$resultMsg)
cat("총 건수 =", responsData$totalCount)
cat("결과 코드 =", responsData$comMsgHeader$returnCode)
cat("결과 메시지 =", responsData$comMsgHeader$returnMessage)
cat("총 건수 =", responsData$msgHeader$totalCount)
str(responsData1)
df_djFood <- responsData$msgBody
str(df_djFood)
setwd('D:/Workspace/R_Crawling/JSON/')
write.csv(df_djFood, '대전광역시 문화관광 음식점.csv')
write.csv(df_djFood, '대전광역시 문화관광 음식점_2.csv')
str(df_djFood)
View(df_djFood)
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=200&pageNo=1'
responsData <- fromJSON(url)
cat("결과 코드 =", responsData$comMsgHeader$returnCode)
cat("결과 메시지 =", responsData$comMsgHeader$returnMessage)
cat("총 건수 =", responsData$msgHeader$totalCount)
str(responsData1)
df_djFood <- responsData$msgBody
str(df_djFood)
View(df_djFood)
df_djFood_pg1 <- responsData$msgBody
url <- 'http://apis.data.go.kr/6300000/tourFoodDataService/tourFoodDataListJson?serviceKey=Z1ljPSNFytYVR9ojM%2FolIZrOSLCoZf69DWPfPGQ7JMnAfX4mIBDuG5fKT6yJWBkXlyUpm3ptCcMb5tNGc66bzQ%3D%3D&numOfRows=200&pageNo=2'
responsData2 <- fromJSON(callback_url)
responsData <- fromJSON(url)
str(responsData)
str(responsData1)
df_djFood_pg2 <- responsData$msgBody
View(df_djFood_pg2)
